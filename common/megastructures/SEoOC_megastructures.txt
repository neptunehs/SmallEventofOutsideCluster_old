# Disabled Gateway
nep_sealgate_ruined = {
	entity = "deactivated_gateway_entity"
	portrait = "GFX_megastructure_construction_background"
	place_entity_on_planet_plane = no
	build_outside_gravity_well = no
	bypass_type = nep_sealgate
	show_galactic_map_icon = no
	construction_blocks_others = no

	potential = {
		always = no
	}
}

# Restored Gateway
nep_sealgate_restored = {
	entity = "reactivated_gateway_entity"
	construction_entity = "gateway_portal_entity"
	portrait = "GFX_megastructure_construction_background"
	place_entity_on_planet_plane = no
	show_galactic_map_icon = no
	
	potential = {
		has_technology = tech_gateway_activation
		has_technology = tech_sealportal_dive
		has_technology = tech_gateway_construction
	}
	
	possible = {
		custom_tooltip = {
			fail_text = "requires_technologys_sealgate"
			from = { 
				has_technology = tech_gateway_activation
				has_technology = tech_sealportal_dive
				has_technology = tech_gateway_construction
			}
		}
	}
	upgrade_from = {
		nep_sealgate_ruined
	}
	build_time = 720
	build_cost = {
		minerals = 5000
		energy = 10000
	}
	construction_blocks_others = no
	bypass_type = nep_sealgate
	on_build_complete = {
		random_system = {
			limit = {
				has_star_flag = nep_Krahen_cluster
				NOT = {
					has_star_flag = nep_Central_system
					has_star_flag = nep_Exterior_system
				}
			}
			random_system_planet = {
				limit = { is_star = yes }
				from = {
					spawn_megastructure = {
						name = "Seal Gate"
						type = nep_sealgate_restored
						location = prevprev
						orbit_angle = 186
						orbit_distance = 150
				}
			}
			every_megastructure = {
				limit = {
					is_megastructure_type = nep_sealgate_restored
				}
				activate_gateway = this
			}
			from = { set_country_flag = nep_sealgates_activated }
		}
	}
}
