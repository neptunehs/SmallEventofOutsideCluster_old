namespace = nep_highway

#Code by neptunehs

#event1:trigger,after precursor events ends
#event2:MTTH = 5 years later, highway events begin
#event3:homeworld event
#11-21-31:vultaum
#12-22-32:yuht
#13-23-33:first_league
#14-24-34:irassian
#15-25-35:cybrex

country_event = {
	id = nep_highway.11
	hide_window = yes

	fire_only_once = yes

	trigger = {
		is_ai = no
		has_country_flag = vultaum_world_found
		OR = {
			has_technology = "tech_sensors_3"
			has_technology = "tech_sensors_4"
		}
		NOT = {
			has_global_flag = nep_highway_begin
		}
	}
	
	mean_time_to_happen = {
		years = 5
	}
	
	immediate = {	
		set_global_flag = nep_highway_begin
		country_event = { id = nep_highway.21 } 
	}
}

country_event = {
	id = nep_highway.12
	hide_window = yes

	fire_only_once = yes

	trigger = {
		is_ai = no
		has_country_flag = yuht_world_found
		OR = {
			has_technology = "tech_sensors_3"
			has_technology = "tech_sensors_4"
		}
		NOT = {
			has_global_flag = nep_highway_begin
		}
	}
	
	mean_time_to_happen = {
		years = 5
	}
	
	immediate = {	
		set_global_flag = nep_highway_begin
		country_event = { id = nep_highway.22 } 
	}
}

country_event = {
	id = nep_highway.13
	hide_window = yes

	fire_only_once = yes

	trigger = {
		is_ai = no
		has_country_flag = league_world_found
		OR = {
			has_technology = "tech_sensors_3"
			has_technology = "tech_sensors_4"
		}
		NOT = {
			has_global_flag = nep_highway_begin
		}
	}
	
	mean_time_to_happen = {
		years = 5
	}
	
	immediate = {	
		set_global_flag = nep_highway_begin
		country_event = { id = nep_highway.23 } 
	}
}

country_event = {
	id = nep_highway.14
	hide_window = yes

	fire_only_once = yes

	trigger = {
		is_ai = no
		has_country_flag = irassian_world_found
		OR = {
			has_technology = "tech_sensors_3"
			has_technology = "tech_sensors_4"
		}
		NOT = {
			has_global_flag = nep_highway_begin
		}
	}
	
	mean_time_to_happen = {
		years = 5
	}
	
	immediate = {	
		set_global_flag = nep_highway_begin
		country_event = { id = nep_highway.24 } 
	}
}

country_event = {
	id = nep_highway.15
	hide_window = yes

	fire_only_once = yes

	trigger = {
		is_ai = no
		has_country_flag = cybrex_world_found
		OR = {
			has_technology = "tech_sensors_3"
			has_technology = "tech_sensors_4"
		}
		NOT = {
			has_global_flag = nep_highway_begin
		}
	}
	
	mean_time_to_happen = {
		years = 5
	}
	
	immediate = {	
		set_global_flag = nep_highway_begin
		country_event = { id = nep_highway.25 } 
	}
}

country_event = {
	id = nep_highway.21
	title = "nep_highway.21.name"
	desc = nep_highway.21.desc
	picture = GFX_evt_ship_in_orbit

	fire_only_once = yes

	is_triggered_only = yes	
	
	trigger = {
		is_ai = no
		has_global_flag = nep_highway_begin
	}
	
	immediate = {
		random_system = {
			limit = { has_star_flag = vultaumar }
			random_system_planet = {
				limit = { has_planet_flag = vultaum_homeworld }
				save_event_target_as = vultaum_homeworld
			}
		}
	}
	
	option = {
		name = nep_highway.21.a
		enable_special_project = {
			name = "nep_highway_vultaumar_explore"
			location = event_target:vultaum_homeworld
			owner = ROOT
		}
	}
	
	option = {
		name = nep_highway.21.b
		custom_tooltip = nep_highway.21.b.tooltip
		owner = { 
			add_minerals = 3000
		}
	}
	
	option = {
		name = nep_highway.21.c
		custom_tooltip = nep_highway.21.c.tooltip
		trigger = {
			has_ethic = "ethic_xenophobe"
			has_ethic = "ethic_fanatic_xenophobe"
		}
		owner = {
			add_energy = 3000		
			add_unity = 9999
			add_influence = 100
		}
	}
}

country_event = {
	id = nep_highway.22
	title = "nep_highway.22.name"
	desc = nep_highway.22.desc
	picture = GFX_evt_ship_in_orbit
	
	fire_only_once = yes

	is_triggered_only = yes	
	
	trigger = {
		is_ai = no
		has_global_flag = nep_highway_begin
	}
	
	immediate = {
		random_system = {
			limit = { has_star_flag = yuhtaan }
			random_system_planet = {
				limit = { has_planet_flag = yuht_homeworld }
				save_event_target_as = yuht_homeworld
			}
		}
	}
	
	option = {
		name = nep_highway.22.a
		enable_special_project = {
			name = "nep_highway_yuhtaan_explore"
			location = event_target:yuht_homeworld
			owner = ROOT
		}
	}
	
	option = {
		name = nep_highway.22.b
		custom_tooltip = nep_highway.22.b.tooltip
		owner = { 
			add_minerals = 3000
		}
	}
	
	option = {
		name = nep_highway.22.c
		custom_tooltip = nep_highway.22.c.tooltip
		trigger = {
			has_ethic = "ethic_xenophobe"
			has_ethic = "ethic_fanatic_xenophobe"
		}
		owner = {
			add_energy = 3000	
			add_unity = 9999
			add_influence = 100
		}
	}
}

country_event = {
	id = nep_highway.23
	title = "nep_highway.23.name"
	desc = nep_highway.23.desc
	picture = GFX_evt_ship_in_orbit
	
	fire_only_once = yes

	is_triggered_only = yes	
	
	trigger = {
		is_ai = no
		has_global_flag = nep_highway_begin
	}
	
	immediate = {
		random_system = {
			limit = { has_star_flag = fen_habbanis }
			random_system_planet = {
				limit = { has_planet_flag = first_league_homeworld }
				save_event_target_as = first_league_homeworld
			}
		}
	}
	
	option = {
		name = nep_highway.23.a
		enable_special_project = {
			name = "nep_highway_fen_habbanis_explore"
			location = event_target:first_league_homeworld
			owner = ROOT
		}
	}
	
	option = {
		name = nep_highway.23.b
		custom_tooltip = nep_highway.23.b.tooltip
		owner = { 
			add_minerals = 3000
		}
	}
	
	option = {
		name = nep_highway.23.c
		custom_tooltip = nep_highway.23.c.tooltip
		trigger = {
			has_ethic = "ethic_xenophobe"
			has_ethic = "ethic_fanatic_xenophobe"
		}
		owner = {
			add_energy = 3000		
			add_unity = 9999
			add_influence = 100
		}
	}
}

country_event = {
	id = nep_highway.24
	title = "nep_highway.24.name"
	desc = nep_highway.24.desc
	picture = GFX_evt_ship_in_orbit
	
	fire_only_once = yes

	is_triggered_only = yes	
	
	trigger = {
		is_ai = no
		has_global_flag = nep_highway_begin
	}
	
	immediate = {
		random_system = {
			limit = { has_star_flag = irass }
			random_system_planet = {
				limit = { has_planet_flag = irassian_homeworld }
				save_event_target_as = irassian_homeworld
			}
		}
	}
	
	option = {
		name = nep_highway.24.a
		enable_special_project = {
			name = "nep_highway_irass_explore"
			location = event_target:irassian_homeworld
			owner = ROOT
		}
	}
	
	option = {
		name = nep_highway.24.b
		custom_tooltip = nep_highway.24.b.tooltip
		owner = { 
			add_minerals = 3000
		}
	}
	
	option = {
		name = nep_highway.24.c
		custom_tooltip = nep_highway.24.c.tooltip
		trigger = {
			has_ethic = "ethic_xenophobe"
			has_ethic = "ethic_fanatic_xenophobe"
		}
		owner = {
			add_energy = 3000	
			add_unity = 9999
			add_influence = 100
		}
	}
}

country_event = {
	id = nep_highway.25
	title = "nep_highway.25.name"
	desc = nep_highway.25.desc
	picture = GFX_evt_ship_in_orbit
	
	fire_only_once = yes

	is_triggered_only = yes	
	
	trigger = {
		is_ai = no
		has_global_flag = nep_highway_begin
	}
	
	immediate = {
		random_planet = {
			random_system = {
				limit = { has_star_flag = cybrex }
				random_system_planet = {	
					save_event_target_as = cybrex_ring_site
				}
			}		
		}
	}
	
	option = {
		name = nep_highway.25.a
		enable_special_project = {
			name = "nep_highway_cybrex_explore"
			location = event_target:cybrex_ring_site
			owner = ROOT
		}
	}
	
	option = {
		name = nep_highway.25.b
		custom_tooltip = nep_highway.25.b.tooltip
		owner = { 
			add_minerals = 3000
		}
	}
	
	option = {
		name = nep_highway.25.c
		custom_tooltip = nep_highway.25.c.tooltip
		trigger = {
			has_ethic = "ethic_xenophobe"
			has_ethic = "ethic_fanatic_xenophobe"
		}
		owner = {
			add_energy = 3000	
			add_unity = 9999
			add_influence = 100
		}
	}
}

ship_event = {
	id = nep_highway.31
	title = "nep_highway.31.name"
	desc = "nep_highway.31.desc"	
	picture = GFX_evt_landing_ship
	location = FROM

	fire_only_once = yes

	is_triggered_only = yes	
	
	immediate = {
	
	}
	
	option = {
		name = nep_highway.31.a
		custom_tooltip = nep_highway.31.a.tooltip
		hidden_effect = { owner = { country_event = { id = nep_highway.4 days = 30 random = 15  } } }
	}

	option = {
		name = nep_highway.31.b
		owner = {
			add_physics_research = 50
			add_society_research = 50
			add_engineering_research = 50
		}
	}
}

ship_event = {
	id = nep_highway.32
	title = "nep_highway.32.name"
	desc = "nep_highway.32.desc"	
	picture = GFX_evt_landing_ship
	location = FROM

	fire_only_once = yes

	is_triggered_only = yes	
	
	immediate = {
	
	}
	
	option = {
		name = nep_highway.32.a
		custom_tooltip = nep_highway.32.a.tooltip
		hidden_effect = { owner = { country_event = { id = nep_highway.4 days = 30 random = 15  } } }
	}

	option = {
		name = nep_highway.32.b
		owner = {
			add_physics_research = 50
			add_society_research = 50
			add_engineering_research = 50
		}
	}
}

ship_event = {
	id = nep_highway.33
	title = "nep_highway.33.name"
	desc = "nep_highway.33.desc"	
	picture = GFX_evt_landing_ship
	location = FROM

	fire_only_once = yes

	is_triggered_only = yes	
	
	immediate = {
	
	}
	
	option = {
		name = nep_highway.33.a
		custom_tooltip = nep_highway.33.a.tooltip
		hidden_effect = { owner = { country_event = { id = nep_highway.4 days = 30 random = 15  } } }
	}

	option = {
		name = nep_highway.33.b
		owner = {
			add_physics_research = 50
			add_society_research = 50
			add_engineering_research = 50
		}
	}
}

ship_event = {
	id = nep_highway.34
	title = "nep_highway.34.name"
	desc = "nep_highway.34.desc"	
	picture = GFX_evt_landing_ship
	location = FROM

	fire_only_once = yes

	is_triggered_only = yes	
	
	immediate = {
	
	}
	
	option = {
		name = nep_highway.34.a
		custom_tooltip = nep_highway.34.a.tooltip
		hidden_effect = { owner = { country_event = { id = nep_highway.4 days = 30 random = 15 } } }
	}

	option = {
		name = nep_highway.34.b
		owner = {
			add_physics_research = 50
			add_society_research = 50
			add_engineering_research = 50
		}
	}
}

ship_event = {
	id = nep_highway.35
	title = "nep_highway.35.name"
	desc = "nep_highway.35.desc"	
	picture = GFX_evt_landing_ship
	location = FROM

	fire_only_once = yes

	is_triggered_only = yes	
	
	immediate = {
	
	}
	
	option = {
		name = nep_highway.35.a
		custom_tooltip = nep_highway.35.a.tooltip
		hidden_effect = { owner = { country_event = { id = nep_highway.45 days = 30 random = 15 } } }
	}

	option = {
		name = nep_highway.35.b
		owner = {
			add_physics_research = 50
			add_society_research = 50
			add_engineering_research = 50
		}
	}
}

#First station spawn.EXCEPT cybrex.
country_event = {
	id = nep_highway.4 
	title = "nep_highway.4.name"
	desc = "nep_highway.4.desc"	
	picture = GFX_evt_synth_sabotage
	
	fire_only_once = yes
	
	is_triggered_only = yes		
	
	immediate = {
		random_list = {
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 90
						max_orientation_angle = 90
						hyperlane = no
						initializer = nep_highway_station_N
					}
				}
			}	
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 67.5
						max_orientation_angle = 67.5
						hyperlane = no
						initializer = nep_highway_station_NNE
					}
				}
			}
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 45
						max_orientation_angle = 45
						hyperlane = no
						initializer = nep_highway_station_NE
					}
				}
			}

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 22.5
						max_orientation_angle = 22.5
						hyperlane = no
						initializer = nep_highway_station_ENE
					}
				}
			}		
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 0
						max_orientation_angle = 0
						hyperlane = no
						initializer = nep_highway_station_E
					}
				}
			}		

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -22.5
						max_orientation_angle = -22.5
						hyperlane = no
						initializer = nep_highway_station_ESE
					}
				}
			}

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -45
						max_orientation_angle = -45
						hyperlane = no
						initializer = nep_highway_station_SE
					}
				}
			}	

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -67.5
						max_orientation_angle = -67.5
						hyperlane = no
						initializer = nep_highway_station_SSE
					}
				}
			}	

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -90
						max_orientation_angle = -90
						hyperlane = no
						initializer = nep_highway_station_S
					}
				}
			}		

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -112.5
						max_orientation_angle = -112.5
						hyperlane = no
						initializer = nep_highway_station_SSW
					}
				}
			}				
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -135
						max_orientation_angle = -135
						hyperlane = no
						initializer = nep_highway_station_SW
					}
				}
			}	
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -157.5
						max_orientation_angle = -157.5
						hyperlane = no
						initializer = nep_highway_station_WSW
					}
				}
			}	
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -180
						max_orientation_angle = -180
						hyperlane = no
						initializer = nep_highway_station_W
					}
				}
			}

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -202.5
						max_orientation_angle = -202.5
						hyperlane = no
						initializer = nep_highway_station_WNW
					}
				}
			}

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -225
						max_orientation_angle = -225
						hyperlane = no
						initializer = nep_highway_station_NW
					}
				}
			}

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -247.5
						max_orientation_angle = -247.5
						hyperlane = no
						initializer = nep_highway_station_NNW
					}
				}
			}				
		}
		set_country_flag = first_station_found
		random_system = {
			limit = {
				has_star_flag = highway_station_system 
			}
			save_event_target_as = first_highway_station_system 
		}
	}
	
	option = {
		name = nep_highway.4.a
		begin_event_chain = {
			event_chain = "nep_highway_chain"
			target = THIS
		}
		create_point_of_interest = {
			id = first_highway_station_system_poi.1
			name = "first_highway_station_system_poi_name"
			desc = "first_highway_station_system_poi_desc"
			event_chain = nep_highway_chain
			location = event_target:first_highway_station_system 
		}
	}
	option = {
		name = nep_highway.4.b
	}
}

#First station spawn.FOR cybrex.
country_event = {
	id = nep_highway.45 
	title = "nep_highway.45.name"
	desc = "nep_highway.45.desc"	
	picture = GFX_evt_synth_sabotage
	
	fire_only_once = yes
	
	is_triggered_only = yes		
	
	immediate = {
		random_list = {
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 90
						max_orientation_angle = 90
						hyperlane = no
						initializer = nep_highway_station_N
					}
				}
			}	
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 67.5
						max_orientation_angle = 67.5
						hyperlane = no
						initializer = nep_highway_station_NNE
					}
				}
			}
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 45
						max_orientation_angle = 45
						hyperlane = no
						initializer = nep_highway_station_NE
					}
				}
			}

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 22.5
						max_orientation_angle = 22.5
						hyperlane = no
						initializer = nep_highway_station_ENE
					}
				}
			}		
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = 0
						max_orientation_angle = 0
						hyperlane = no
						initializer = nep_highway_station_E
					}
				}
			}		

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -22.5
						max_orientation_angle = -22.5
						hyperlane = no
						initializer = nep_highway_station_ESE
					}
				}
			}

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -45
						max_orientation_angle = -45
						hyperlane = no
						initializer = nep_highway_station_SE
					}
				}
			}	

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -67.5
						max_orientation_angle = -67.5
						hyperlane = no
						initializer = nep_highway_station_SSE
					}
				}
			}	

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -90
						max_orientation_angle = -90
						hyperlane = no
						initializer = nep_highway_station_S
					}
				}
			}		

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -112.5
						max_orientation_angle = -112.5
						hyperlane = no
						initializer = nep_highway_station_SSW
					}
				}
			}				
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -135
						max_orientation_angle = -135
						hyperlane = no
						initializer = nep_highway_station_SW
					}
				}
			}	
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -157.5
						max_orientation_angle = -157.5
						hyperlane = no
						initializer = nep_highway_station_WSW
					}
				}
			}	
			
			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -180
						max_orientation_angle = -180
						hyperlane = no
						initializer = nep_highway_station_W
					}
				}
			}

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -202.5
						max_orientation_angle = -202.5
						hyperlane = no
						initializer = nep_highway_station_WNW
					}
				}
			}

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -225
						max_orientation_angle = -225
						hyperlane = no
						initializer = nep_highway_station_NW
					}
				}
			}

			10 = { 
				no_scope = {
					spawn_system = {
						min_distance >= 480
						max_distance <= 485
						min_orientation_angle = -247.5
						max_orientation_angle = -247.5
						hyperlane = no
						initializer = nep_highway_station_NNW
					}
				}
			}				
		}
		set_country_flag = first_station_found
		random_system = {
			limit = {
				has_star_flag = highway_station_system 
			}
			save_event_target_as = first_highway_station_system 
		}
	}
	
	option = {
		name = nep_highway.45.a
		begin_event_chain = {
			event_chain = "nep_highway_chain"
			target = THIS
		}
		create_point_of_interest = {
			id = first_highway_station_system_poi.1
			name = "first_highway_station_system_poi_name"
			desc = "first_highway_station_system_poi_desc"
			event_chain = nep_highway_chain
			location = event_target:first_highway_station_system 
		}
	}
	
	option = {
		name = nep_highway.45.b
	}
}

#Create highway station explore project 
#on_entering_system target = first_highway_station_system 
ship_event = {
	id = nep_highway.5
	title = "nep_highway.5.name"
	desc = "nep_highway.5.desc"	
	picture = GFX_evt_fleet_neutral
	location = THIS
	
	fire_only_once = yes
	
	is_triggered_only = yes		
	
	trigger = {
		owner = {
			is_ai = no
			has_event_chain = "nep_highway_chain"
		}
		FROM = {
			has_star_flag = highway_station_system
		}
	}
	
	immediate = {
		if = {
			limit = {
				NOT = { has_global_flag = malfunctioning_guards_created }
			}
			create_malfunctioning_guards_country = yes
		}
	}
	
	option = {
		name = nep_highway.5.a
		hidden_effect = { 
			OWNER = { remove_point_of_interest = first_highway_station_system_poi.1 } 
			solar_system = { 
				random_system_planet = {
					save_event_target_as = nep_highway_first_station_explore_poi
				}
			}
		}
		enable_special_project = {
			name = "nep_highway_first_station_explore"
			location = event_target:nep_highway_first_station_explore_poi
			owner = THIS.owner
		}
	}
}

#Malfunctioning guards
ship_event = {
	id = nep_highway.6
	title = "nep_highway.6.name"
	desc = "nep_highway.6.desc"
	picture = GFX_evt_fleet_evil
	location = FROM	
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = {
				NOT = { has_global_flag = malfunctioning_guards_created }
			}
		create_malfunctioning_guards_country = yes
		}
		malfunctioning_guards_spawn = yes
	}
	
	option = {
		hidden_effect = { 
			solar_system = { 
				random_system_planet = {
					save_event_target_as = nep_highway_first_station_explore_poi
				}
			}
		}
		
		name = nep_highway.6.a
		enable_special_project = {
			name = "nep_highway_first_station_explore"
			location = event_target:nep_highway_first_station_explore_poi
			owner = THIS.owner
		}
	}
}

#Highway Appears
ship_event = {
	id = nep_highway.7
	title = "nep_highway.7.name"
	desc = "nep_highway.7.desc"	
	picture = GFX_evt_hangar_bay
	#location = FROM	
	
	fire_only_once = yes
			
	is_triggered_only = yes		
	
	immediate = {
		clear_global_event_target = nep_highway_first_station_explore_poi
		set_spawn_system_batch = begin
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_N
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = 90
					max_orientation_angle = 90
					hyperlane = no
					initializer = nep_highway_station_N
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_NNE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = 67.5
					max_orientation_angle = 67.5
					hyperlane = no
					initializer = nep_highway_station_NNE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_NE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = 45
					max_orientation_angle = 45
					hyperlane = no
					initializer = nep_highway_station_NE	
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_ENE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = 22.5
					max_orientation_angle = 22.5
					hyperlane = no
					initializer = nep_highway_station_ENE	
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_E
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = 0
					max_orientation_angle = 0
					hyperlane = no
					initializer = nep_highway_station_E
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_ESE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
						min_orientation_angle = -22.5
						max_orientation_angle = -22.5
						hyperlane = no
						initializer = nep_highway_station_ESE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_SE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
						min_orientation_angle = -45
						max_orientation_angle = -45
						hyperlane = no
						initializer = nep_highway_station_SE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_SSE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -67.5
					max_orientation_angle = -67.5
					hyperlane = no
					initializer = nep_highway_station_SSE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_S
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -90
					max_orientation_angle = -90
					hyperlane = no
					initializer = nep_highway_station_S
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_SSW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -112.5
					max_orientation_angle = -112.5
					hyperlane = no
					initializer = nep_highway_station_SSW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_SW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -135
					max_orientation_angle = -135
					hyperlane = no
					initializer = nep_highway_station_SW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_WSW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -157.5
					max_orientation_angle = -157.5
					hyperlane = no
					initializer = nep_highway_station_WSW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_W
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -180
					max_orientation_angle = -180
					hyperlane = no
					initializer = nep_highway_station_W
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_WNW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -202.5
					max_orientation_angle = -202.5
					hyperlane = no
					initializer = nep_highway_station_WNW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_NW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -225
					max_orientation_angle = -225
					hyperlane = no
					initializer = nep_highway_station_NW
					}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_station_NNW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 480
					max_distance <= 485
					min_orientation_angle = -247.5
					max_orientation_angle = -247.5
					hyperlane = no
					initializer = nep_highway_station_NNW
				}
			}
		}
				
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_N
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = 90
					max_orientation_angle = 90
					hyperlane = no
					initializer = nep_highway_note_N
				}
			}
		}

		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_NNE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = 67.5
					max_orientation_angle = 67.5
					hyperlane = no
					initializer = nep_highway_note_NNE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_NE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = 45
					max_orientation_angle = 45
					hyperlane = no
					initializer = nep_highway_note_NE	
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_ENE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = 22.5
					max_orientation_angle = 22.5
					hyperlane = no
					initializer = nep_highway_note_ENE	
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_E
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = 0
					max_orientation_angle = 0
					hyperlane = no
					initializer = nep_highway_note_E
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_ESE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
						min_orientation_angle = -22.5
						max_orientation_angle = -22.5
						hyperlane = no
						initializer = nep_highway_note_ESE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_SE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
						min_orientation_angle = -45
						max_orientation_angle = -45
						hyperlane = no
						initializer = nep_highway_note_SE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_SSE
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -67.5
					max_orientation_angle = -67.5
					hyperlane = no
					initializer = nep_highway_note_SSE
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_S
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -90
					max_orientation_angle = -90
					hyperlane = no
					initializer = nep_highway_note_S
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_SSW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -112.5
					max_orientation_angle = -112.5
					hyperlane = no
					initializer = nep_highway_note_SSW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_SW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -135
					max_orientation_angle = -135
					hyperlane = no
					initializer = nep_highway_note_SW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_WSW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -157.5
					max_orientation_angle = -157.5
					hyperlane = no
					initializer = nep_highway_note_WSW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_W
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -180
					max_orientation_angle = -180
					hyperlane = no
					initializer = nep_highway_note_W
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_WNW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -202.5
					max_orientation_angle = -202.5
					hyperlane = no
					initializer = nep_highway_note_WNW
				}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_NW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -225
					max_orientation_angle = -225
					hyperlane = no
					initializer = nep_highway_note_NW
					}
			}
		}
		
		if = {
			limit = {
				NOT = {
					any_system = {
						has_star_flag = highway_note_NNW
					}
				}
			}
			no_scope = {
				spawn_system = {
					min_distance >= 495
					max_distance <= 495
					min_orientation_angle = -247.5
					max_orientation_angle = -247.5
					hyperlane = no
					initializer = nep_highway_note_NNW
				}
			}
		}
		
		random_system = {
			limit = { has_star_flag = highway_station_N }
			save_global_event_target_as = highway_station_N
		}
		random_system = {
			limit = { has_star_flag = highway_station_NNE }
			save_global_event_target_as = highway_station_NNE
		}
		random_system = {
			limit = { has_star_flag = highway_station_NE }
			save_global_event_target_as = highway_station_NE
		}
		random_system = {
			limit = { has_star_flag = highway_station_ENE }
			save_global_event_target_as = highway_station_ENE
		}
		random_system = {
			limit = { has_star_flag = highway_station_E }
			save_global_event_target_as = highway_station_E
		}
		random_system = {
			limit = { has_star_flag = highway_station_ESE }
			save_global_event_target_as = highway_station_ESE
		}
		random_system = {
			limit = { has_star_flag = highway_station_SE }
			save_global_event_target_as = highway_station_SE
		}
		random_system = {
			limit = { has_star_flag = highway_station_SSE }
			save_global_event_target_as = highway_station_SSE
		}
		random_system = {
			limit = { has_star_flag = highway_station_S }
			save_global_event_target_as = highway_station_S
		}
		random_system = {
			limit = { has_star_flag = highway_station_SSW }
			save_global_event_target_as = highway_station_SSW
		}
		random_system = {
			limit = { has_star_flag = highway_station_SW }
			save_global_event_target_as = highway_station_SW
		}
		random_system = {
			limit = { has_star_flag = highway_station_WSW }
			save_global_event_target_as = highway_station_WSW
		}
		random_system = {
			limit = { has_star_flag = highway_station_W }
			save_global_event_target_as = highway_station_W
		}
		random_system = {
			limit = { has_star_flag = highway_station_WNW }
			save_global_event_target_as = highway_station_WNW
		}
		random_system = {
			limit = { has_star_flag = highway_station_NW }
			save_global_event_target_as = highway_station_NW
		}
		random_system = {
			limit = { has_star_flag = highway_station_NNW }
			save_global_event_target_as = highway_station_NNW
		}
		
		random_system = {
			limit = { has_star_flag = highway_note_N }
			save_global_event_target_as = highway_note_N
		}
		random_system = {
			limit = { has_star_flag = highway_note_NNE }
			save_global_event_target_as = highway_note_NNE
		}
		random_system = {
			limit = { has_star_flag = highway_note_NE }
			save_global_event_target_as = highway_note_NE
		}
		random_system = {
			limit = { has_star_flag = highway_note_ENE }
			save_global_event_target_as = highway_note_ENE
		}
		random_system = {
			limit = { has_star_flag = highway_note_E }
			save_global_event_target_as = highway_note_E
		}
		random_system = {
			limit = { has_star_flag = highway_note_ESE }
			save_global_event_target_as = highway_note_ESE
		}
		random_system = {
			limit = { has_star_flag = highway_note_SE }
			save_global_event_target_as = highway_note_SE
		}
		random_system = {
			limit = { has_star_flag = highway_note_SSE }
			save_global_event_target_as = highway_note_SSE
		}
		random_system = {
			limit = { has_star_flag = highway_note_S }
			save_global_event_target_as = highway_note_S
		}
		random_system = {
			limit = { has_star_flag = highway_note_SSW }
			save_global_event_target_as = highway_note_SSW
		}
		random_system = {
			limit = { has_star_flag = highway_note_SW }
			save_global_event_target_as = highway_note_SW
		}
		random_system = {
			limit = { has_star_flag = highway_note_WSW }
			save_global_event_target_as = highway_note_WSW
		}
		random_system = {
			limit = { has_star_flag = highway_note_W }
			save_global_event_target_as = highway_note_W
		}
		random_system = {
			limit = { has_star_flag = highway_note_WNW }
			save_global_event_target_as = highway_note_WNW
		}
		random_system = {
			limit = { has_star_flag = highway_note_NW }
			save_global_event_target_as = highway_note_NW
		}
		random_system = {
			limit = { has_star_flag = highway_note_NNW }
			save_global_event_target_as = highway_note_NNW
		}
		add_hyperlane = {
			from = event_target:highway_note_N
			to = event_target:highway_note_NNE
		}
		add_hyperlane = {
			from = event_target:highway_note_NE
			to = event_target:highway_note_NNE
		}
		add_hyperlane = {
			from = event_target:highway_note_NE
			to = event_target:highway_note_ENE
		}
		add_hyperlane = {
			from = event_target:highway_note_E
			to = event_target:highway_note_ENE
		}
		add_hyperlane = {
			from = event_target:highway_note_E
			to = event_target:highway_note_ESE
		}
		add_hyperlane = {
			from = event_target:highway_note_SE
			to = event_target:highway_note_ESE
		}
		add_hyperlane = {
			from = event_target:highway_note_SE
			to = event_target:highway_note_SSE
		}
		add_hyperlane = {
			from = event_target:highway_note_S
			to = event_target:highway_note_SSE
		}
		add_hyperlane = {
			from = event_target:highway_note_S
			to = event_target:highway_note_SSW
		}
		add_hyperlane = {
			from = event_target:highway_note_SW
			to = event_target:highway_note_SSW
		}
		add_hyperlane = {
			from = event_target:highway_note_SW
			to = event_target:highway_note_WSW
		}
		add_hyperlane = {
			from = event_target:highway_note_WSW
			to = event_target:highway_note_W
		}
		add_hyperlane = {
			from = event_target:highway_note_WNW
			to = event_target:highway_note_W
		}
		add_hyperlane = {
			from = event_target:highway_note_WNW
			to = event_target:highway_note_NW
		}
		add_hyperlane = {
			from = event_target:highway_note_NNW
			to = event_target:highway_note_NW
		}
		add_hyperlane = {
			from = event_target:highway_note_NNW
			to = event_target:highway_note_N
		}
				add_hyperlane = {
			from = event_target:highway_station_N
			to = event_target:highway_note_N
		}
		add_hyperlane = {
			from = event_target:highway_station_NNE
			to = event_target:highway_note_NNE
		}
		add_hyperlane = {
			from = event_target:highway_station_NE
			to = event_target:highway_note_NE
		}
		add_hyperlane = {
			from = event_target:highway_station_ENE
			to = event_target:highway_note_ENE
		}
		add_hyperlane = {
			from = event_target:highway_station_E
			to = event_target:highway_note_E
		}
		add_hyperlane = {
			from = event_target:highway_station_ESE
			to = event_target:highway_note_ESE
		}
		add_hyperlane = {
			from = event_target:highway_station_SE
			to = event_target:highway_note_SE
		}
		add_hyperlane = {
			from = event_target:highway_station_SSE
			to = event_target:highway_note_SSE
		}
		add_hyperlane = {
			from = event_target:highway_station_S
			to = event_target:highway_note_S
		}
		add_hyperlane = {
			from = event_target:highway_station_SSW
			to = event_target:highway_note_SSW
		}
		add_hyperlane = {
			from = event_target:highway_station_SW
			to = event_target:highway_note_SW
		}
		add_hyperlane = {
			from = event_target:highway_station_WSW
			to = event_target:highway_note_WSW
		}
		add_hyperlane = {
			from = event_target:highway_station_W
			to = event_target:highway_note_W
		}
		add_hyperlane = {
			from = event_target:highway_station_WNW
			to = event_target:highway_note_WNW
		}
		add_hyperlane = {
			from = event_target:highway_station_NW
			to = event_target:highway_note_NW
		}
		add_hyperlane = {
			from = event_target:highway_station_NNW
			to = event_target:highway_note_NNW
		}
		event_target:highway_station_N = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_NNE = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_NE = {

			random_neighbor_system = {
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_ENE = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_E = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_ESE = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_SE = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_SSE = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_S = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_SSW = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_SW = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_WSW = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_W = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_WNW = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_NW = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		event_target:highway_station_NNW = {
			random_neighbor_system = { 
				limit = { 
					NOT = { 
						OR = { 
							has_star_flag = highway_station_system 
							has_star_flag = highway_note_system
						} 
					}
				}
				ignore_hyperlanes = yes 
				add_hyperlane = {
					from = this
					to = prev
				}
			}
		}
		set_spawn_system_batch = end
	}
	
	option = {
		name = nep_highway.7.a
		every_country = {
			if = {
				limit = {
					has_event_chain = "nep_highway_chain"
				}
			end_event_chain = "nep_highway_chain"
			}
		}
		hidden_effect = { 
			OWNER = {
				set_country_flag = nep_highway_founder
				country_event = { id = nep_highway.8 days = 30} 
			} 
		}
	}
}

country_event = {
	id = nep_highway.8
	title = "nep_highway.8.name"
	desc = nep_highway.8.desc
	picture = GFX_evt_news_room
	
	fire_only_once = yes

	is_triggered_only = yes	
	
	trigger = {
		is_ai = no
		has_country_flag = nep_highway_founder
	}
	
	immediate = {
		set_global_flag = nep_highway_used
	}
	
	option = {
		name = nep_highway.8.a
		add_modifier = { modifier = nep_highway_fee days = -1 }
	}
	
	option = {
		name = nep_highway.8.b
		custom_tooltip = nep_highway.8.b.tooltip
		hidden_effect = {
			every_system = {
				limit = { 
					OR = {
						has_star_flag = highway_station_system
						has_star_flag = highway_note_system
					}					
				}
				every_fleet_in_system = {
					limit = { 						
						any_owned_ship = {
							is_ship_class = shipclass_starbase
						}
					}
					delete_fleet = this
				}
				every_system_planet = {
					surveyed = { set_surveyed = yes surveyor = root }
				}
				create_starbase = { 
					size = starbase_outpost
					owner = root 
				}
			}
			every_country = {
				limit = { NOT = { has_country_flag = nep_highway_founder } }
				root = {
					set_closed_borders = {
						who = prev
						status = yes
					}
				}
			}
		}
	}
}